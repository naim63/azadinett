<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>آزادی‌نت - پلتفرم جامع ابزارهای توسعه</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/qrcode-generator/qrcode.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        'vazir': ['Vazirmatn', 'Tahoma', 'sans-serif']
                    },
                    colors: {
                        'slate': { 950: '#020617' },
                        'indigo': { 400: '#818cf8', 500: '#6366f1', 600: '#4f46e5' },
                        'sky': { 400: '#38bdf8', 500: '#0ea5e9' },
                        'violet': { 500: '#8b5cf6' }
                    },
                    animation: {
                        'fade-in': 'fadeIn 0.7s ease-out forwards',
                        'slide-up': 'slideUp 0.7s cubic-bezier(0.25, 1, 0.5, 1) forwards',
                        'float': 'float 6s ease-in-out infinite',
                    },
                    keyframes: {
                        fadeIn: { 'from': { opacity: 0 }, 'to': { opacity: 1 } },
                        slideUp: { 'from': { transform: 'translateY(30px)', opacity: 0 }, 'to': { transform: 'translateY(0)', opacity: 1 } },
                        float: {
                            '0%': { transform: 'translatey(0px)' },
                            '50%': { transform: 'translatey(-10px)' },
                            '100%': { transform: 'translatey(0px)' },
                        }
                    }
                }
            }
        }
    </script>
    <link href="https://fonts.googleapis.com/css2?family=Vazirmatn:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <style>
        :root { --bg-color: #020617; --card-bg: rgba(15, 23, 42, 0.6); --border-color: rgba(56, 189, 248, 0.15); }
        body { 
            font-family: 'Vazirmatn', sans-serif;
            background-color: var(--bg-color);
            color: #e2e8f0;
            background-image: radial-gradient(circle at 1px 1px, rgba(56, 189, 248, 0.15) 1px, transparent 0);
            background-size: 2.5rem 2.5rem;
            scroll-behavior: smooth;
        }
        .glass-card {
            background: var(--card-bg);
            backdrop-filter: blur(16px);
            -webkit-backdrop-filter: blur(16px);
            border: 1px solid var(--border-color);
            transition: all 0.3s ease;
        }
        .glass-card:hover {
            border-color: rgba(56, 189, 248, 0.4);
            background: rgba(15, 23, 42, 0.8);
            transform: translateY(-6px);
        }
        .text-gradient {
            background: linear-gradient(to right, #38bdf8, #818cf8);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        .faq-answer { max-height: 0; overflow: hidden; transition: max-height 0.5s ease-in-out; }
        .animated-section { opacity: 0; }
        #mainContent { display: none; }

        /* Advanced Checkbox */
        .terms-checkbox-label { cursor: pointer; position: relative; padding-right: 45px; user-select: none; }
        .terms-checkbox-label:before {
            content: '';
            position: absolute;
            right: 0;
            top: 50%;
            transform: translateY(-50%);
            width: 35px;
            height: 20px;
            background-color: #334155;
            border-radius: 10px;
            transition: background-color 0.3s ease;
        }
        .terms-checkbox-label:after {
            content: '';
            position: absolute;
            right: 3px;
            top: 50%;
            transform: translateY(-50%);
            width: 14px;
            height: 14px;
            background-color: white;
            border-radius: 50%;
            transition: transform 0.3s ease;
        }
        #termsCheckbox:checked + .terms-checkbox-label:before { background-color: #4f46e5; }
        #termsCheckbox:checked + .terms-checkbox-label:after { transform: translate(15px, -50%); }
    </style>
</head>
<body class="min-h-screen">

    <!-- Terms Modal -->
    <div id="termsModal" class="hidden fixed inset-0 bg-slate-950/80 backdrop-blur-md flex items-center justify-center z-50 p-4 animate-fade-in">
        <div class="glass-card rounded-3xl p-8 max-w-lg w-full mx-4 animate-slide-up shadow-2xl shadow-sky-500/10 border-sky-500/30">
            <div class="text-center">
                <div class="w-20 h-20 bg-gradient-to-br from-sky-500 to-indigo-600 rounded-full flex items-center justify-center mx-auto mb-6 shadow-lg border-2 border-sky-400/50 animate-float">
                    <i class="fa-solid fa-file-signature text-4xl text-white"></i>
                </div>
                <h2 class="text-3xl font-bold text-white mb-3">تعهدنامه استفاده</h2>
                <p class="text-slate-400 mb-8 leading-relaxed">این یک سرویس تخصصی برای توسعه‌دهندگان است. لطفاً قوانین را تایید کنید.</p>
                <div class="space-y-4 mb-8 text-right">
                    <div class="bg-slate-900/70 border border-slate-700 rounded-xl p-4 flex items-center space-x-4 space-x-reverse"><div class="flex-shrink-0 w-10 h-10 rounded-full bg-green-500/20 flex items-center justify-center"><i class="fa-solid fa-code text-xl text-green-400"></i></div><div><h4 class="font-semibold text-white">استفاده برای توسعه</h4><p class="text-sm text-slate-400">این سرورها برای برنامه‌نویسی و یادگیری هستند.</p></div></div>
                    <div class="bg-slate-900/70 border border-slate-700 rounded-xl p-4 flex items-center space-x-4 space-x-reverse"><div class="flex-shrink-0 w-10 h-10 rounded-full bg-red-500/20 flex items-center justify-center"><i class="fa-solid fa-ban text-xl text-red-400"></i></div><div><h4 class="font-semibold text-white">ممنوعیت استفاده غیرقانونی</h4><p class="text-sm text-slate-400">هرگونه فعالیت مخرب یا غیرقانونی ممنوع است.</p></div></div>
                </div>
                <div class="flex items-center justify-center mb-8">
                    <input id="termsCheckbox" type="checkbox" class="hidden">
                    <label for="termsCheckbox" class="terms-checkbox-label text-lg text-slate-300">موارد فوق را می‌پذیرم.</label>
                </div>
                <button id="acceptTermsBtn" onclick="acceptTerms()" class="w-full bg-gradient-to-r from-sky-500 to-indigo-500 text-white py-3 rounded-xl font-bold text-lg transition-all shadow-lg shadow-indigo-500/30 hover:shadow-indigo-500/50 disabled:opacity-40 disabled:cursor-not-allowed disabled:shadow-none" disabled>ورود به پلتفرم</button>
            </div>
        </div>
    </div>

    <div id="mainContent">
        <!-- Header -->
        <header class="py-20 relative overflow-hidden">
            <div class="container mx-auto px-4 relative z-10">
                <div class="text-center animate-fade-in">
                    <div class="flex items-center justify-center mb-6"><div class="glass-card rounded-3xl flex items-center justify-center w-24 h-24 mr-6 shadow-2xl animate-float"><span class="text-5xl">🚀</span></div><div><h1 class="text-5xl md:text-7xl font-black mb-3 text-white">آزادی‌نت</h1><p class="text-sky-400 text-lg md:text-xl font-medium">پلتفرم جامع ابزارهای توسعه</p></div></div>
                    <p class="max-w-2xl mx-auto text-slate-300 text-lg mt-6">مجموعه‌ای از سرورها و ابزارهای رایگان برای ساده‌سازی فرایند توسعه و کدنویسی.</p>
                </div>
            </div>
        </header>

        <!-- Main Content Sections -->
        <div class="space-y-20 md:space-y-28 pb-20">
            
            <!-- Server Info & QR Code -->
            <section id="server-info" class="animated-section container mx-auto px-4">
                <div class="text-center mb-12"><h2 class="text-4xl font-bold mb-4 text-white">لیست سرورهای <span class="text-gradient">V2Ray</span></h2><p class="text-slate-400 text-lg">کانفیگ مورد نظر خود را کپی یا با QR کد اسکن کنید.</p></div>
                <div class="grid lg:grid-cols-5 gap-8 max-w-7xl mx-auto">
                    <div class="lg:col-span-3 glass-card rounded-2xl p-6 md:p-8"><h3 class="text-2xl font-bold text-white mb-6">کپی مستقیم کانفیگ</h3><div id="config-list-container" class="space-y-3 max-h-96 overflow-y-auto pr-2"></div></div>
                    <div class="lg:col-span-2 glass-card rounded-2xl p-6 md:p-8"><h3 class="text-2xl font-bold text-white mb-6">اسکن با QR کد</h3><div class="bg-white rounded-xl p-3 mb-6 shadow-inner text-center"><div id="qrcode" class="flex justify-center"></div></div><select id="configSelect" onchange="generateQR()" class="w-full bg-slate-800 border border-slate-700 rounded-lg p-3 text-white font-medium transition-all focus:ring-2 focus:ring-sky-500 focus:border-sky-500"></select></div>
                </div>
            </section>

             <!-- Subscription & Clash Links -->
            <section id="clash-info" class="animated-section container mx-auto px-4">
                <div class="text-center mb-12"><h2 class="text-4xl font-bold mb-4 text-white">لینک‌های اشتراک و <span class="text-gradient">Clash</span></h2><p class="text-slate-400 text-lg">از این لینک‌ها برای افزودن دسته‌جمعی سرورها استفاده کنید.</p></div>
                <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8 max-w-7xl mx-auto">
                    <div class="glass-card rounded-2xl p-6"><h3 class="font-bold text-xl mb-4 text-white">CloudFlare CDN (v1)</h3><div class="flex items-center justify-between mt-4"><span class="text-slate-400">لینک اشتراک:</span><button onclick="copyTextById('sub2-link1')" class="bg-slate-700 hover:bg-slate-600 text-xs text-white font-bold py-1 px-3 rounded-lg transition"><i class="fa-solid fa-copy ml-1"></i> کپی</button></div><p id="sub2-link1" class="font-mono text-sm bg-slate-900 p-2 rounded-lg break-all mt-2">https://nextjs.irdevs.sbs</p></div>
                    <div class="glass-card rounded-2xl p-6"><h3 class="font-bold text-xl mb-4 text-white">🇩🇪 CloudFlare CDN (v2)</h3><div class="flex items-center justify-between mt-4"><span class="text-slate-400">لینک اشتراک:</span><button onclick="copyTextById('sub3-link1')" class="bg-slate-700 hover:bg-slate-600 text-xs text-white font-bold py-1 px-3 rounded-lg transition"><i class="fa-solid fa-copy ml-1"></i> کپی</button></div><p id="sub3-link1" class="font-mono text-sm bg-slate-900 p-2 rounded-lg break-all mt-2">https://dev2.irdevs.sbs/aparatapi</p><div class="flex items-center justify-between mt-4"><span class="text-slate-400">لینک جایگزین:</span><button onclick="copyTextById('sub3-link2')" class="bg-slate-700 hover:bg-slate-600 text-xs text-white font-bold py-1 px-3 rounded-lg transition"><i class="fa-solid fa-copy ml-1"></i> کپی</button></div><p id="sub3-link2" class="font-mono text-sm bg-slate-900 p-2 rounded-lg break-all mt-2">https://raw.githubusercontent.com/darkvpnapp/Cloud2/refs/heads/main/aparatapi</p></div>
                    <div class="glass-card rounded-2xl p-6"><h3 class="font-bold text-xl mb-4 text-white">Clash Config</h3><div class="flex items-center justify-between mt-4"><span class="text-slate-400">لینک کانفیگ:</span><button onclick="copyTextById('clash-link1')" class="bg-slate-700 hover:bg-slate-600 text-xs text-white font-bold py-1 px-3 rounded-lg transition"><i class="fa-solid fa-copy ml-1"></i> کپی</button></div><p id="clash-link1" class="font-mono text-sm bg-slate-900 p-2 rounded-lg break-all mt-2">https://nextjs.irdevs.sbs/clash.yaml</p></div>
                </div>
            </section>

            <!-- Advanced Tools Section -->
            <section id="tools" class="animated-section container mx-auto px-4">
                <div class="text-center mb-12"><h2 class="text-4xl font-bold mb-4 text-white">ابزارهای پیشرفته</h2><p class="text-slate-400 text-lg">وضعیت اتصال خود را بررسی و بهترین سرور را پیدا کنید.</p></div>
                <div class="grid lg:grid-cols-2 gap-8 max-w-6xl mx-auto">
                    <div class="glass-card rounded-2xl p-8"><div class="text-center mb-6"><h3 class="text-2xl font-bold text-white mb-2">تست زنده پینگ سرورها</h3><p class="text-cyan-300">سریع‌ترین سرور را برای خود پیدا کنید</p></div><div id="ping-list-container" class="space-y-3 mb-6 h-48 overflow-y-auto pr-2"></div><button onclick="runAllPings()" id="pingTestBtn" class="w-full bg-gradient-to-r from-teal-500 to-cyan-500 hover:from-teal-600 hover:to-cyan-600 text-white px-8 py-3 rounded-xl font-bold text-lg transition-all shadow-lg hover:shadow-xl disabled:opacity-50">شروع تست پینگ</button></div>
                    <div class="glass-card rounded-2xl p-8"><div class="text-center mb-6"><h3 class="text-2xl font-bold text-white mb-2">بررسی نشت DNS</h3><p class="text-red-300">امنیت اتصال خود را بسنجید</p></div><div id="dns-leak-result" class="text-center h-48 flex flex-col justify-center items-center"><p class="text-slate-400">برای بررسی وضعیت، روی دکمه زیر کلیک کنید.</p></div><button onclick="checkDNSLeak()" id="dnsTestBtn" class="w-full bg-gradient-to-r from-amber-500 to-red-500 hover:from-amber-600 hover:to-red-600 text-white px-8 py-3 rounded-xl font-bold text-lg transition-all shadow-lg hover:shadow-xl disabled:opacity-50">شروع بررسی امنیت</button></div>
                </div>
            </section>

            <!-- Tutorial Section -->
            <section id="tutorial" class="animated-section container mx-auto px-4">
                <div class="text-center mb-12"><h2 class="text-4xl font-bold mb-4 text-white">راهنمای اتصال</h2><p class="text-slate-400 text-lg">اتصال در چند مرحله ساده.</p></div>
                <div class="grid md:grid-cols-2 lg:grid-cols-4 gap-8 text-center text-white">
                    <div class="flex flex-col items-center"><div class="flex items-center justify-center w-24 h-24 rounded-full bg-gradient-to-br from-emerald-500 to-green-600 text-white text-4xl font-bold shadow-lg mb-4">1</div><h3 class="text-xl font-bold mb-2">کپی لینک اشتراک</h3><p class="text-slate-300">از <a href="#clash-info" class="text-sky-400 font-semibold hover:underline">بخش لینک‌ها</a>، لینک اشتراک را کپی کنید.</p></div>
                    <div class="flex flex-col items-center"><div class="flex items-center justify-center w-24 h-24 rounded-full bg-gradient-to-br from-blue-500 to-indigo-600 text-white text-4xl font-bold shadow-lg mb-4">2</div><h3 class="text-xl font-bold mb-2">نصب کلاینت</h3><p class="text-slate-300">از <a href="#download" class="text-sky-400 font-semibold hover:underline">بخش دانلود</a>، اپلیکیشن مناسب را نصب کنید.</p></div>
                    <div class="flex flex-col items-center"><div class="flex items-center justify-center w-24 h-24 rounded-full bg-gradient-to-br from-purple-500 to-violet-600 text-white text-4xl font-bold shadow-lg mb-4">3</div><h3 class="text-xl font-bold mb-2">افزودن سرورها</h3><p class="text-slate-300">در اپلیکیشن، لینک کپی شده را در قسمت اشتراک (Subscription) وارد و آپدیت کنید.</p></div>
                    <div class="flex flex-col items-center"><div class="flex items-center justify-center w-24 h-24 rounded-full bg-gradient-to-br from-pink-500 to-rose-600 text-white text-4xl font-bold shadow-lg mb-4">4</div><h3 class="text-xl font-bold mb-2">اتصال نهایی</h3><p class="text-slate-300">یک سرور را انتخاب و متصل شوید!</p></div>
                </div>
            </section>

            <!-- Download Clients Section -->
            <section id="download" class="animated-section container mx-auto px-4">
                <div class="text-center mb-12"><h2 class="text-4xl font-bold mb-4 text-white">دانلود کلاینت‌ها</h2><p class="text-slate-400 text-lg">اپلیکیشن‌های پیشنهادی برای هر سیستم‌عامل.</p></div>
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 max-w-7xl mx-auto">
                    <div class="glass-card rounded-2xl p-6"><div class="flex items-center mb-4"><i class="fa-brands fa-android text-3xl text-green-400 ml-3"></i><h3 class="font-bold text-2xl text-white">اندروید</h3></div><div class="space-y-3"><a href="https://github.com/2dust/v2rayNG/releases" target="_blank" class="block w-full text-center bg-slate-700/50 hover:bg-slate-600/50 p-3 rounded-lg transition">V2RayNG</a><a href="https://github.com/KaringX/Karing/releases" target="_blank" class="block w-full text-center bg-slate-700/50 hover:bg-slate-600/50 p-3 rounded-lg transition">Karing</a><a href="https://github.com/hiddify/hiddify-next/releases" target="_blank" class="block w-full text-center bg-slate-700/50 hover:bg-slate-600/50 p-3 rounded-lg transition">Hiddify</a></div></div>
                    <div class="glass-card rounded-2xl p-6"><div class="flex items-center mb-4"><i class="fa-brands fa-apple text-3xl text-slate-300 ml-3"></i><h3 class="font-bold text-2xl text-white">iOS</h3></div><div class="space-y-3"><a href="https://apps.apple.com/us/app/streisand/id6450534064" target="_blank" class="block w-full text-center bg-slate-700/50 hover:bg-slate-600/50 p-3 rounded-lg transition">Streisand</a><a href="https://apps.apple.com/us/app/karing/id6473945246" target="_blank" class="block w-full text-center bg-slate-700/50 hover:bg-slate-600/50 p-3 rounded-lg transition">Karing</a><a href="https://apps.apple.com/us/app/v2box-v2ray-client/id6446814690" target="_blank" class="block w-full text-center bg-slate-700/50 hover:bg-slate-600/50 p-3 rounded-lg transition">V2Box</a><a href="https://apps.apple.com/us/app/hiddify-next/id6472252227" target="_blank" class="block w-full text-center bg-slate-700/50 hover:bg-slate-600/50 p-3 rounded-lg transition">Hiddify</a></div></div>
                    <div class="glass-card rounded-2xl p-6"><div class="flex items-center mb-4"><i class="fa-brands fa-windows text-3xl text-sky-400 ml-3"></i><h3 class="font-bold text-2xl text-white">ویندوز</h3></div><div class="space-y-3"><a href="https://github.com/2dust/v2rayN/releases" target="_blank" class="block w-full text-center bg-slate-700/50 hover:bg-slate-600/50 p-3 rounded-lg transition">v2rayN</a><a href="https://github.com/KaringX/Karing/releases" target="_blank" class="block w-full text-center bg-slate-700/50 hover:bg-slate-600/50 p-3 rounded-lg transition">Karing</a><a href="https://github.com/hiddify/hiddify-next/releases" target="_blank" class="block w-full text-center bg-slate-700/50 hover:bg-slate-600/50 p-3 rounded-lg transition">Hiddify</a></div></div>
                    <div class="glass-card rounded-2xl p-6"><div class="flex items-center mb-4"><i class="fa-brands fa-apple text-3xl text-slate-400 ml-3"></i><h3 class="font-bold text-2xl text-white">macOS</h3></div><div class="space-y-3"><a href="https://apps.apple.com/us/app/v2box-v2ray-client/id6446814690" target="_blank" class="block w-full text-center bg-slate-700/50 hover:bg-slate-600/50 p-3 rounded-lg transition">V2Box</a><a href="https://github.com/KaringX/Karing/releases" target="_blank" class="block w-full text-center bg-slate-700/50 hover:bg-slate-600/50 p-3 rounded-lg transition">Karing</a><a href="https://github.com/hiddify/hiddify-next/releases" target="_blank" class="block w-full text-center bg-slate-700/50 hover:bg-slate-600/50 p-3 rounded-lg transition">Hiddify</a></div></div>
                    <div class="glass-card rounded-2xl p-6 lg:col-start-2"><div class="flex items-center mb-4"><i class="fa-brands fa-linux text-3xl text-orange-400 ml-3"></i><h3 class="font-bold text-2xl text-white">لینوکس</h3></div><div class="space-y-3"><a href="https://github.com/2dust/v2rayN/releases" target="_blank" class="block w-full text-center bg-slate-700/50 hover:bg-slate-600/50 p-3 rounded-lg transition">v2rayN (with Wine)</a><a href="https://github.com/hiddify/hiddify-next/releases" target="_blank" class="block w-full text-center bg-slate-700/50 hover:bg-slate-600/50 p-3 rounded-lg transition">Hiddify</a></div></div>
                </div>
            </section>

            <!-- FAQ Section -->
            <section id="faq" class="animated-section container mx-auto px-4">
                <div class="text-center mb-12"><h2 class="text-4xl font-bold mb-4 text-white">سوالات متداول</h2><p class="text-slate-400 text-lg">پاسخ به پرسش‌های رایج شما.</p></div>
                <div class="max-w-4xl mx-auto space-y-4" id="faq-container"></div>
            </section>

            <!-- Troubleshooting Section -->
            <section id="troubleshooting" class="animated-section container mx-auto px-4">
                <div class="text-center mb-12"><h2 class="text-4xl font-bold mb-4 bg-gradient-to-r from-red-500 via-orange-500 to-amber-500 bg-clip-text text-transparent">عیب‌یابی هوشمند</h2><p class="text-slate-400 text-lg">مشکلات احتمالی و راه‌حل‌های سریع.</p></div>
                <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8 max-w-6xl mx-auto">
                    <div class="glass-card rounded-2xl p-6 text-center"><div class="w-16 h-16 bg-red-500/20 text-red-400 rounded-full flex items-center justify-center mx-auto mb-4 text-3xl"><i class="fa-solid fa-wifi-slash"></i></div><h3 class="text-xl font-bold text-white mb-2">وصل نمی‌شود؟</h3><ul class="text-slate-300 space-y-3 text-right text-sm"><li class="flex items-start"><i class="fa-solid fa-cloud-arrow-down text-sky-400 ml-2 mt-1 w-5 text-center"></i>لینک اشتراک را آپدیت کنید.</li><li class="flex items-start"><i class="fa-solid fa-network-wired text-yellow-400 ml-2 mt-1 w-5 text-center"></i>اتصال اینترنت خود را چک کنید.</li><li class="flex items-start"><i class="fa-solid fa-server text-purple-400 ml-2 mt-1 w-5 text-center"></i>یک سرور دیگر را امتحان کنید.</li></ul></div>
                    <div class="glass-card rounded-2xl p-6 text-center"><div class="w-16 h-16 bg-orange-500/20 text-orange-400 rounded-full flex items-center justify-center mx-auto mb-4 text-3xl"><i class="fa-solid fa-gauge-simple-low"></i></div><h3 class="text-xl font-bold text-white mb-2">سرعت پایین است؟</h3><ul class="text-slate-300 space-y-3 text-right text-sm"><li class="flex items-start"><i class="fa-solid fa-bolt text-yellow-400 ml-2 mt-1 w-5 text-center"></i>به سروری با پینگ پایین‌تر متصل شوید.</li><li class="flex items-start"><i class="fa-solid fa-signal text-green-400 ml-2 mt-1 w-5 text-center"></i>برنامه‌های پرمصرف اینترنت را ببندید.</li><li class="flex items-start"><i class="fa-solid fa-sim-card text-sky-400 ml-2 mt-1 w-5 text-center"></i>در صورت امکان، اپراتور را تغییر دهید.</li></ul></div>
                    <div class="glass-card rounded-2xl p-6 text-center"><div class="w-16 h-16 bg-blue-500/20 text-blue-400 rounded-full flex items-center justify-center mx-auto mb-4 text-3xl"><i class="fa-solid fa-triangle-exclamation"></i></div><h3 class="text-xl font-bold text-white mb-2">هنوز مشکل دارید؟</h3><ul class="text-slate-300 space-y-3 text-right text-sm"><li class="flex items-start"><i class="fa-solid fa-arrow-up-from-bracket text-sky-400 ml-2 mt-1 w-5 text-center"></i>از آخرین نسخه کلاینت استفاده کنید.</li><li class="flex items-start"><i class="fa-solid fa-power-off text-red-400 ml-2 mt-1 w-5 text-center"></i>دستگاه خود را ری‌استارت کنید.</li><li class="flex items-start"><i class="fa-solid fa-headset text-green-400 ml-2 mt-1 w-5 text-center"></i>با <a href="https://t.me/itsthemoein" class="text-sky-400 font-semibold">پشتیبانی</a> در ارتباط باشید.</li></ul></div>
                </div>
            </section>
        </div>
        <!-- Footer -->
        <footer class="pt-16 pb-8 border-t border-sky-500/10">
            <div class="container mx-auto px-4 relative z-10">
                <div class="text-center mb-10"><h2 class="text-4xl font-bold mb-2 text-white">آزادی‌نت</h2><p class="text-sky-400">اینترنت آزاد برای توسعه‌دهندگان</p></div>
                <div class="grid md:grid-cols-2 gap-8 max-w-2xl mx-auto mb-10">
                    <a href="https://t.me/itsthemoein" target="_blank" class="glass-card rounded-2xl p-6 flex items-center space-x-4 space-x-reverse group"><div class="w-16 h-16 bg-gradient-to-br from-sky-500 to-indigo-600 rounded-full flex items-center justify-center text-3xl text-white shadow-lg transition-transform group-hover:scale-110"><i class="fa-solid fa-user-astronaut"></i></div><div><h3 class="font-bold text-xl text-white">توسعه‌دهنده</h3><p class="text-slate-300">ارتباط مستقیم و پشتیبانی</p></div></a>
                    <a href="https://t.me/sourrce_kade" target="_blank" class="glass-card rounded-2xl p-6 flex items-center space-x-4 space-x-reverse group"><div class="w-16 h-16 bg-gradient-to-br from-purple-500 to-pink-600 rounded-full flex items-center justify-center text-3xl text-white shadow-lg transition-transform group-hover:scale-110"><i class="fa-brands fa-telegram"></i></div><div><h3 class="font-bold text-xl text-white">کانال تلگرام</h3><p class="text-slate-300">اخبار و سورس‌کدها</p></div></a>
                </div>
                <div class="border-t border-sky-500/20 pt-6 text-center text-slate-400 text-sm"><p>© ۱۴۰۳ آزادی‌نت - ساخته شده با ❤️ برای جامعه توسعه‌دهندگان ایران</p></div>
            </div>
        </footer>
    </div>

    <script>
        const configs = {
            cf_de_1: { name: 'VLESS - آزادی‌نت 1 🇩🇪', config: 'vless://826f524a-cea1-4e44-9b49-3381d13b7593@fk31lndm4w8uj0yp1drwltdtdko6y-cu.pages.dev:443?path=%2FlwIBsf84RYZSVl1x%3Fed%3D2560&security=tls&alpn=http%2F1.1&encryption=none&host=fk31lndm4w8uj0yp1drwltdtdko6y-cu.pages.dev&fp=randomized&type=ws&sni=fK31lnDM4w8uJ0yp1dRWlTdTdko6y-CU.pAGES.DeV#AzadiNet-DE-1' },
            cf_de_2: { name: 'VLESS - آزادی‌نت 2 🇩🇪', config: 'vless://826f524a-cea1-4e44-9b49-3381d13b7593@www.speedtest.net:443?path=%2FweIiUrqpwSQLUEGI%3Fed%3D2560&security=tls&alpn=http%2F1.1&encryption=none&host=fk31lndm4w8uj0yp1drwltdtdko6y-cu.pages.dev&fp=randomized&type=ws&sni=FK31lNdM4W8Uj0Yp1dRWlTDtDKo6y-Cu.pagES.dEv#AzadiNet-DE-2' },
            cf_de_tr_5: { name: 'Trojan - آزادی‌نت 5 🇩🇪', config: 'trojan://%3AbC5%5Elakx%3E%24d@fk31lndm4w8uj0yp1drwltdtdko6y-cu.pages.dev:443?path=%2FtrULF8XIBg0I5upoFe%3Fed%3D2560&security=tls&alpn=http%2F1.1&host=fk31lndm4w8uj0yp1drwltdtdko6y-cu.pages.dev&fp=randomized&type=ws&sni=fK31lnDM4w8uJ0yp1dRWlTdTdko6y-CU.pAGES.DeV#AzadiNet-TR-5' },
        };
        const faqData = [
            { question: "آیا این سرویس رایگان است؟", answer: "بله، سرویس آزادی‌نت کاملاً رایگان است و همیشه رایگان باقی خواهد ماند. هدف ما فراهم کردن ابزارهای مفید برای جامعه توسعه‌دهندگان است." },
            { question: "چرا گاهی سرعت کم می‌شود؟", answer: "کاهش سرعت می‌تواند به دلیل شلوغی سرور در ساعات اوج مصرف یا اختلالات شبکه اینترنت شما باشد. پیشنهاد می‌کنیم سرور دیگری را امتحان کنید یا در زمان دیگری متصل شوید." },
            { question: "اگر سرور قطع شود چه کنم؟", answer: "کافیست از لیست سرورها، یک سرور دیگر را انتخاب و متصل شوید. ما چندین سرور فعال برای اطمینان از پایداری سرویس داریم." },
            { question: "آیا روی همه دستگاه‌ها کار می‌کند؟", answer: "بله، شما می‌توانید از این سرویس روی سیستم‌عامل‌های اندروید, iOS, ویندوز و macOS/Linux با استفاده از کلاینت‌های معرفی شده در بخش دانلود استفاده کنید." }
        ];

        document.addEventListener('DOMContentLoaded', function() {
            if (!localStorage.getItem('termsAccepted')) {
                document.getElementById('termsModal').classList.remove('hidden');
            } else {
                showMainContent();
            }
            document.getElementById('termsCheckbox').addEventListener('change', e => {
                document.getElementById('acceptTermsBtn').disabled = !e.target.checked;
            });
            
            buildContent();

            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('animate-slide-up');
                        entry.target.style.opacity = 1;
                    }
                });
            }, { threshold: 0.1 });
            document.querySelectorAll('.animated-section').forEach(s => observer.observe(s));
        });
        
        function showMainContent() {
            document.getElementById('mainContent').style.display = 'block';
            document.getElementById('mainContent').classList.add('animate-fade-in');
        }

        function acceptTerms() {
            localStorage.setItem('termsAccepted', 'true');
            const modal = document.getElementById('termsModal');
            modal.style.transition = 'opacity 0.3s ease';
            modal.style.opacity = '0';
            setTimeout(() => {
                modal.classList.add('hidden');
                showMainContent();
            }, 300);
        }

        function buildContent() {
            buildFAQ();
            buildConfigList();
            buildConfigSelect();
            generateQR();
        }

        async function copyToClipboard(text, message) {
            try {
                await navigator.clipboard.writeText(text);
                showNotification(message, 'success');
            } catch (err) {
                const textArea = document.createElement('textarea');
                textArea.value = text;
                textArea.style.position = 'fixed';
                textArea.style.left = '-9999px';
                document.body.appendChild(textArea);
                textArea.select();
                try { document.execCommand('copy'); showNotification(message, 'success'); } 
                catch (e) { showNotification('خطا در کپی کردن!', 'error'); }
                document.body.removeChild(textArea);
            }
        }
        
        function copyTextById(elementId) {
            const el = document.getElementById(elementId);
            if (el) copyToClipboard(el.textContent.trim(), '✅ کپی شد!');
        }
        
        function copyConfig(key) {
            if (configs[key]) copyToClipboard(configs[key].config, '✅ کانفیگ کپی شد!');
        }

        function generateQR() {
            const val = document.getElementById('configSelect').value;
            const config = configs[val];
            const qrEl = document.getElementById('qrcode');
            qrEl.innerHTML = '';
            if (!config || typeof qrcode === 'undefined') {
                qrEl.innerHTML = '<p class="text-red-500 text-xs">خطا در بارگذاری کتابخانه QR</p>';
                return;
            };
            try {
                const qr = qrcode(0, 'M');
                qr.addData(config.config);
                qr.make();
                qrEl.innerHTML = qr.createSvgTag({ scalable: true });
            } catch (e) {
                qrEl.innerHTML = '<p class="text-red-500">خطا در تولید QR کد</p>';
            }
        }
        
        function buildConfigList() {
            const container = document.getElementById('config-list-container');
            container.innerHTML = '';
            Object.keys(configs).forEach(key => {
                const btn = document.createElement('button');
                btn.onclick = () => copyConfig(key);
                btn.className = 'w-full bg-slate-800/50 hover:bg-slate-700/70 border border-slate-700 hover:border-sky-500 text-white py-3 px-4 rounded-lg transition-all flex items-center justify-between text-sm';
                btn.innerHTML = `<span>${configs[key].name}</span><i class="fa-solid fa-copy text-slate-400"></i>`;
                container.appendChild(btn);
            });
        }

        function buildConfigSelect() {
            const select = document.getElementById('configSelect');
            select.innerHTML = '';
            Object.keys(configs).forEach(key => {
                const opt = document.createElement('option');
                opt.value = key;
                opt.textContent = configs[key].name;
                select.appendChild(opt);
            });
        }

        function buildFAQ() {
            const container = document.getElementById('faq-container');
            faqData.forEach(item => {
                const el = document.createElement('div');
                el.className = 'glass-card rounded-2xl overflow-hidden';
                el.innerHTML = `<div class="faq-question flex justify-between items-center p-5 cursor-pointer hover:bg-white/5"><h3 class="font-semibold text-white">${item.question}</h3><i class="fa-solid fa-chevron-down text-slate-400 transition-transform"></i></div><div class="faq-answer"><p class="p-5 pt-0 text-slate-300">${item.answer}</p></div>`;
                container.appendChild(el);
            });
            container.addEventListener('click', e => {
                const q = e.target.closest('.faq-question');
                if (q) {
                    const a = q.nextElementSibling, i = q.querySelector('i');
                    const isOpen = a.style.maxHeight;
                    container.querySelectorAll('.faq-answer').forEach(ans => ans.style.maxHeight = null);
                    container.querySelectorAll('.faq-question i').forEach(icn => icn.classList.remove('rotate-180'));
                    if (!isOpen) { a.style.maxHeight = a.scrollHeight + "px"; i.classList.add('rotate-180'); }
                }
            });
        }
        
        async function pingServer(url, name, container) {
            const resultEl = document.createElement('div');
            resultEl.className = 'flex justify-between items-center bg-slate-800/50 p-3 rounded-lg text-sm';
            resultEl.innerHTML = `<span>${name}</span> <span class="font-mono animate-pulse">Testing...</span>`;
            container.appendChild(resultEl);
            const startTime = performance.now();
            try {
                await fetch(`https://${url}/favicon.ico?t=${new Date().getTime()}`, { mode: 'no-cors', cache: 'no-store' });
                const latency = Math.round(performance.now() - startTime);
                const span = resultEl.querySelector('span:last-child');
                span.textContent = `${latency} ms`;
                span.classList.remove('animate-pulse');
                if (latency < 150) span.classList.add('text-green-400');
                else if (latency < 300) span.classList.add('text-yellow-400');
                else span.classList.add('text-red-400');
            } catch (error) {
                const span = resultEl.querySelector('span:last-child');
                span.textContent = 'Failed';
                span.classList.remove('animate-pulse');
                span.classList.add('text-red-500');
            }
        }

        async function runAllPings() {
            const btn = document.getElementById('pingTestBtn');
            btn.disabled = true;
            btn.innerHTML = '<i class="fa-solid fa-spinner fa-spin ml-2"></i> در حال تست...';
            const container = document.getElementById('ping-list-container');
            container.innerHTML = ''; 
            const serversToPing = [ { name: 'Cloudflare CDN', url: 'cloudflare.com' }, { name: 'IRDevs Domain', url: 'dev1.irdevs.sbs' }];
            await Promise.all(serversToPing.map(server => pingServer(server.url, server.name, container)));
            btn.disabled = false;
            btn.innerHTML = 'شروع مجدد تست';
        }

        async function checkDNSLeak() {
            const btn = document.getElementById('dnsTestBtn');
            const resultContainer = document.getElementById('dns-leak-result');
            btn.disabled = true;
            btn.innerHTML = '<i class="fa-solid fa-spinner fa-spin ml-2"></i> در حال بررسی...';
            resultContainer.innerHTML = `<div class="flex flex-col items-center text-center"><i class="fa-solid fa-spinner fa-spin text-4xl mb-4 text-white"></i><p>در حال ارسال درخواست...</p></div>`;
            try {
                const response = await fetch('https://ipleak.net/json/');
                if (!response.ok) throw new Error('Network response was not ok');
                const data = await response.json();
                
                let resultHTML = `<ul class="space-y-2 text-sm max-h-24 overflow-y-auto pr-2 text-left">`;
                let isLeaking = false;

                if (data.dns_servers && Array.isArray(data.dns_servers) && data.dns_servers.length > 0) {
                    isLeaking = data.dns_servers.some(server => server.country_code === 'IR');
                    data.dns_servers.forEach(server => {
                        resultHTML += `<li class="bg-slate-800/50 p-2 rounded-lg">${server.ip || 'N/A'} (${server.country_name || 'Unknown'})</li>`;
                    });
                } else {
                     resultHTML += `<li class="bg-slate-800/50 p-2 rounded-lg">هیچ سرور DNS یافت نشد.</li>`;
                }

                resultHTML += `</ul>`;

                if (isLeaking) {
                    resultHTML += `<div class="mt-4 p-3 rounded-lg bg-red-500/30 border border-red-500"><h4 class="font-bold text-red-300"><i class="fa-solid fa-exclamation-triangle ml-2"></i>احتمال نشت DNS!</h4><p class="text-xs mt-1">سرور DNS ایران در لیست شما مشاهده شد.</p></div>`;
                } else {
                    resultHTML += `<div class="mt-4 p-3 rounded-lg bg-green-500/30 border border-green-500"><h4 class="font-bold text-green-300"><i class="fa-solid fa-check-circle ml-2"></i>اتصال شما امن است.</h4><p class="text-xs mt-1">هیچ سرور DNS از ایران یافت نشد.</p></div>`;
                }
                resultContainer.innerHTML = resultHTML;
            } catch (error) {
                console.error("DNS Leak Test Error:", error);
                resultContainer.innerHTML = `<div class="text-red-400"><i class="fa-solid fa-times-circle text-4xl mb-4"></i><p>خطا در انجام تست.</p></div>`;
            } finally {
                btn.disabled = false;
                btn.innerHTML = 'بررسی مجدد امنیت';
            }
        }

        function showNotification(message, type = 'success') {
            const el = document.createElement('div');
            const icon = type === 'success' ? 'fa-check-circle' : 'fa-times-circle';
            const color = type === 'success' ? 'bg-green-500' : 'bg-red-500';
            el.className = `fixed bottom-5 right-5 ${color} text-white px-5 py-3 rounded-xl shadow-lg z-50 flex items-center space-x-3 space-x-reverse animate-fade-in`;
            el.innerHTML = `<i class="fa-solid ${icon}"></i><span class="font-medium">${message}</span>`;
            document.body.appendChild(el);
            setTimeout(() => {
                el.style.transition = 'opacity 0.5s ease';
                el.style.opacity = '0';
                setTimeout(() => el.remove(), 500);
            }, 3000);
        }
    </script>
</body>
</html>
